############################
# Database (core settings) #
############################

# Two Postgres users: backend/Alembic use job_agent_admin (POSTGRES_USER/POSTGRES_PASSWORD).
# Phase 2 frontend will use job_agent_ui (POSTGRES_UI_USER/POSTGRES_UI_PASSWORD) for DATABASE_URL.
# The postgres container bootstraps as user "postgres" using POSTGRES_INIT_PASSWORD; an init
# script then creates job_agent_admin and job_agent_ui. Never commit .env.
# When running on the host (pytest, API outside Docker), use POSTGRES_HOST=localhost.
POSTGRES_USER=job_agent_admin
POSTGRES_PASSWORD=
POSTGRES_INIT_PASSWORD=
POSTGRES_UI_USER=job_agent_ui
POSTGRES_UI_PASSWORD=
POSTGRES_DB=job_agent
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# NOTE: Use postgresql+psycopg:// for psycopg3 (not postgresql://)
DATABASE_URL=postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}


######################
# Redis & API ports  #
######################

# Redis (used as Celery broker / result backend)
REDIS_PORT=6379

# FastAPI HTTP port (host side)
API_PORT=8000

# Flower UI port (Celery monitoring, optional)
FLOWER_PORT=5555

# Caddy reverse proxy: your domain (e.g. from GoDaddy). Required for production.
# Local: use localhost / flower.localhost. Production: use your real subdomains (e.g. api.yourdomain.com).
API_DOMAIN=
FLOWER_DOMAIN=

# Frontend port (host side, dev only)
FRONTEND_PORT=3000

# Domain configuration (production only)
# Apex domain redirects to FRONTEND_DOMAIN (e.g., yourapp.com -> app.yourapp.com)
APEX_DOMAIN=
FRONTEND_DOMAIN=


########################
# Celery configuration #
########################

# Local defaults; Docker Compose typically overrides these to use the redis service.
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0


#######################
# External API keys   #
#######################

GEMINI_API_KEY=
SERPAPI_KEY=
EXA_API_KEY=

NYLAS_API_KEY=
NYLAS_API_URI=https://api.us.nylas.com
NYLAS_GRANT_ID=

PDFBOLTS_API_KEY=

# Langfuse: no spaces around =
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_BASE_URL=https://us.cloud.langfuse.com


########################
# Sentry (Phase 7+)    #
########################

SENTRY_DSN=
ENVIRONMENT=development
RELEASE_VERSION=1.0.0


#################################
# API key & Flower auth          #
#################################

# API key for frontend-backend authentication (REQUIRED)
# Generate with: openssl rand -hex 32
JOB_LAND_API_KEY=

# Flower Basic Auth (Caddy). Generate hash: caddy hash-password or htpasswd -nbB user password
# In .env escape bcrypt hash: use $$ for each $ (e.g. $$2y$$05$$...) so Docker Compose passes a single $
FLOWER_BASIC_AUTH_USER=
FLOWER_BASIC_AUTH_HASH=


#################################
# Misc / optional dev settings  #
#################################

# If true, allows recreate DB tables on startup utilities. Set false in production.
OVERWRITE_TABLES=false


# CORS: comma-separated list of allowed origins
# Local: http://localhost:3000
# Production: https://app.yourapp.com,https://api.yourapp.com
CORS_ORIGINS=http://localhost:3000


#################################
# Frontend (Next.js)            #
#################################

# Better Auth Secret (generate with: openssl rand -base64 32)
# IMPORTANT: Generate a new secret for production!
BETTER_AUTH_SECRET=

# Better Auth URLs
# Local: http://localhost:3000
# Production: https://app.yourapp.com (your FRONTEND_DOMAIN)
BETTER_AUTH_URL=http://localhost:3000
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3000

# Google OAuth (create credentials in Google Cloud Console)
# Get these from: https://console.cloud.google.com/apis/credentials
# IMPORTANT: In Google Cloud Console, set Authorized redirect URI to:
#   - http://localhost:3000/api/auth/callback/google (dev)
#   - https://app.yourapp.com/api/auth/callback/google (prod)
BETTER_AUTH_GOOGLE_CLIENT_ID=
BETTER_AUTH_GOOGLE_CLIENT_SECRET=

# Backend API URL (how frontend reaches backend from browser)
# Local: http://localhost:8000
# Docker internal: http://api:8000
# Production (from browser): https://api.yourapp.com
NEXT_PUBLIC_API_URL=http://localhost:8000

# UploadThing Token (for file uploads)
# No domain allowlisting required - token provides authentication
UPLOADTHING_TOKEN=

# Vercel AI SDK uses this variable name (not GEMINI_API_KEY)
# Used for AI chat features in the frontend
GOOGLE_GENERATIVE_AI_API_KEY=