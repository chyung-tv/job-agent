############################
# Database (core settings) #
############################

# For local development, keep host as localhost.
# For Docker Compose, use POSTGRES_HOST=postgres. Never commit .env; copy to server manually.
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=job_agent
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# NOTE: Use postgresql+psycopg:// for psycopg3 (not postgresql://)
DATABASE_URL=postgresql+psycopg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}


######################
# Redis & API ports  #
######################

# Redis (used as Celery broker / result backend)
REDIS_PORT=6379

# FastAPI HTTP port (host side)
API_PORT=8000

# Flower UI port (Celery monitoring, optional)
FLOWER_PORT=5555

# Caddy reverse proxy: your domain (e.g. from GoDaddy). Required for production.
# Local: use localhost / flower.localhost. Production: use your real subdomains (e.g. api.yourdomain.com).
API_DOMAIN=
FLOWER_DOMAIN=


########################
# Celery configuration #
########################

# Local defaults; Docker Compose typically overrides these to use the redis service.
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0


#######################
# External API keys   #
#######################

GEMINI_API_KEY=
SERPAPI_KEY=
EXA_API_KEY=

NYLAS_API_KEY=
NYLAS_API_URI=https://api.us.nylas.com
NYLAS_GRANT_ID=

PDFBOLTS_API_KEY=

# Langfuse: no spaces around =
LANGFUSE_PUBLIC_KEY=
LANGFUSE_SECRET_KEY=
LANGFUSE_BASE_URL=https://us.cloud.langfuse.com


########################
# Sentry (Phase 7+)    #
########################

SENTRY_DSN=
ENVIRONMENT=development
RELEASE_VERSION=1.0.0


#################################
# API key & Flower auth          #
#################################

# For test script / clients: set to the static API key (see JOB_LAND_API_KEY in src/config.py).
JOB_LAND_API_KEY=

# Flower Basic Auth (Caddy). Generate hash: caddy hash-password or htpasswd -nbB user password
FLOWER_BASIC_AUTH_USER=
FLOWER_BASIC_AUTH_HASH=


#################################
# Misc / optional dev settings  #
#################################

# If true, allows recreate DB tables on startup utilities. Set false in production.
OVERWRITE_TABLES=false
